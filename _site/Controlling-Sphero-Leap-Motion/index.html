<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Controlling the Sphero using the Leap Motion &#8211; Charlie Gerard</title>
<meta name="description" content="A tutorial to learn how to program the Leap Motion to control the Sphero robotic ball.">
<meta name="keywords" content="">

  

<!-- Twitter Cards -->
<meta name="twitter:title" content="Controlling the Sphero using the Leap Motion">
<meta name="twitter:description" content="A tutorial to learn how to program the Leap Motion to control the Sphero robotic ball.">
<meta name="twitter:site" content="@charlie__gerard">


<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://charliegerard.github.io/blog/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Controlling the Sphero using the Leap Motion">
<meta property="og:description" content="A tutorial to learn how to program the Leap Motion to control the Sphero robotic ball.">
<meta property="og:url" content="http://charliegerard.github.io/blog/Controlling-Sphero-Leap-Motion/">
<meta property="og:site_name" content="Charlie Gerard">

<meta property="og:image" content="http://charliegerard.github.io/blog/images/default-thumb.png">






<link rel="canonical" href="http://charliegerard.github.io/blog/Controlling-Sphero-Leap-Motion/">
<link href="http://charliegerard.github.io/blog/feed.xml" type="application/atom+xml" rel="alternate" title="Charlie Gerard Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://charliegerard.github.io/blog/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://charliegerard.github.io/blog/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://charliegerard.github.io/blog/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://charliegerard.github.io/blog/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://charliegerard.github.io/blog/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://charliegerard.github.io/blog/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://charliegerard.github.io/blog/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://charliegerard.github.io/blog/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://charliegerard.github.io/blog/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://charliegerard.github.io/blog/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://charliegerard.github.io/blog/">Charlie Gerard</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="http://charliegerard.github.io/blog/about" >About</a></li>
				
				    
				        
				    
				    <li><a href="http://charliegerard.github.io/blog/posts" >All Posts</a></li>
				
				    
				        
				        
				    <li><a href="http://charliegerard.github.io" target="_blank">Portfolio</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    
  

<div itemscope itemtype="http://schema.org/Person">


	<img src="http://charliegerard.github.io/blog/blog/images/" class="bio-photo" alt=" bio photo">


  <h3 itemprop="name"></h3>
  <p></p>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="http://charliegerard.github.io/blog/Controlling-Sphero-Leap-Motion/" rel="bookmark" title="Controlling the Sphero using the Leap Motion">Controlling the Sphero using the Leap Motion</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p><a href="https://charliegerard.files.wordpress.com/2015/01/cylonjs-sphero.png"><img class="aligncenter size-large wp-image-61" src="https://charliegerard.files.wordpress.com/2015/01/cylonjs-sphero.png?w=660" alt="cylonjs-sphero-leap-motion" width="660" height="152" /></a></p>

<p>In my personal time, I love to play around with hardware and robots.</p>

<p>I started in Node.js but recently I discovered Cylon.js and after a quick play around with it, I found it pretty awesome and decided to rewrite my projects using this framework.</p>

<p>As a starting point, I decided to rewrite the project to control the <a href="http://www.gosphero.com/">Sphero</a> with the <a href="https://www.leapmotion.com/">Leap Motion</a>.</p>

<p>You can find the original repo <a href="http://charliegerard.github.io/leap_sphero" target="_blank">here</a>, but here are a few code snippets:</p>

<p><a href="https://charliegerard.files.wordpress.com/2015/01/screen-shot-2015-01-10-at-3-02-47-pm.png"><img class="aligncenter wp-image-62 size-large" style="border: 1px solid #000000;" src="https://charliegerard.files.wordpress.com/2015/01/screen-shot-2015-01-10-at-3-02-47-pm.png?w=660" alt="Screen Shot 2015-01-10 at 3.02.47 pm" width="660" height="348" /></a></p>

<p><a href="https://charliegerard.files.wordpress.com/2015/01/screen-shot-2015-01-10-at-3-04-09-pm.png"><img class="aligncenter wp-image-63 size-large" style="border: 1px solid #000000;" src="https://charliegerard.files.wordpress.com/2015/01/screen-shot-2015-01-10-at-3-04-09-pm.png?w=660" alt="Screen Shot 2015-01-10 at 3.04.09 pm" width="660" height="419" /></a></p>

<p>The way it works is pretty straight forward. The Sphero connects via bluetooth and the Leap Motion needs to be plugged in your computer. Once the Sphero is detected, the hand is tracked by the Leap Motion and the direction will be applied to the Sphero.</p>

<p>Feel free to have a better look at the code on <a href="http://charliegerard.github.io/leap_sphero" target="_blank">Github</a>.</p>

<p>Now, let’s move on to <strong>Cylon.js</strong>. The first thing I noticed about this framework is the short amount of code necessary to get to the same result. I managed to do pretty much the exact same thing in 68 lines of code!</p>

<p>I guess what makes it easier is that Cylon already has some modules you can install to program for certain devices, like the ones below:</p>

<p><a href="https://charliegerard.files.wordpress.com/2015/01/screen-shot-2015-01-11-at-8-59-14-pm.png"><img class="aligncenter size-large wp-image-69" src="https://charliegerard.files.wordpress.com/2015/01/screen-shot-2015-01-11-at-8-59-14-pm.png?w=660" alt="cylon-devices" width="660" height="487" /></a></p>

<p>To start using Cylon, you need to require it and specify which devices you are working with.</p>

<pre><code class="code">

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="kd">var</span> <span class="nx">Cylon</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;cylon&#39;</span><span class="p">);</span>
<span class="lineno"> 2</span> 
<span class="lineno"> 3</span> <span class="nx">Cylon</span><span class="p">.</span><span class="nx">robot</span><span class="p">({</span>
<span class="lineno"> 4</span>   <span class="nx">connections</span><span class="o">:</span> <span class="p">{</span>
<span class="lineno"> 5</span>     <span class="nx">leapmotion</span><span class="o">:</span> <span class="p">{</span><span class="nx">adaptor</span><span class="o">:</span> <span class="s1">&#39;leapmotion&#39;</span><span class="p">},</span>
<span class="lineno"> 6</span>     <span class="nx">sphero</span><span class="o">:</span> <span class="p">{</span><span class="nx">adaptor</span><span class="o">:</span> <span class="s1">&#39;sphero&#39;</span><span class="p">,</span> <span class="nx">port</span><span class="o">:</span> <span class="s1">&#39;/dev/rfcomm0&#39;</span><span class="p">}</span>
<span class="lineno"> 7</span>   <span class="p">},</span>
<span class="lineno"> 8</span> 
<span class="lineno"> 9</span>   <span class="nx">devices</span><span class="o">:</span> <span class="p">{</span>
<span class="lineno">10</span>     <span class="nx">leapmotion</span><span class="o">:</span> <span class="p">{</span><span class="nx">driver</span><span class="o">:</span> <span class="s1">&#39;leapmotion&#39;</span><span class="p">,</span> <span class="nx">connection</span><span class="o">:</span> <span class="s1">&#39;leapmotion&#39;</span><span class="p">},</span>
<span class="lineno">11</span>     <span class="nx">sphero</span><span class="o">:</span> <span class="p">{</span><span class="nx">driver</span><span class="o">:</span> <span class="s1">&#39;sphero&#39;</span><span class="p">,</span> <span class="nx">connection</span><span class="o">:</span> <span class="s1">&#39;sphero&#39;</span><span class="p">}</span>
<span class="lineno">12</span>   <span class="p">},</span>
<span class="lineno">13</span> 
<span class="lineno">14</span>   <span class="nx">work</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span>
<span class="lineno">15</span>   <span class="p">}</span>
<span class="lineno">16</span> <span class="p">}).</span><span class="nx">start</span><span class="p">();</span></code></pre></div>


</code></pre>

<p>At the moment, this code is not really doing anything but you can see how to specify which devices you are going to use.</p>

<p>You have to specify a port for the Sphero because it connects to your computer via Bluetooth. To find the port for your own Sphero, run ‘ls /dev/tty.Sphero*’ in your console and replace the port in this code with the result you get.</p>

<p>The rest of the code goes inside the ‘work’ function as below:</p>
<pre><code class="code">

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno">1</span> <span class="nx">work</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">my</span><span class="p">){</span>
<span class="lineno">2</span>   <span class="nx">my</span><span class="p">.</span><span class="nx">leapmotion</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">frame</span><span class="p">){</span>
<span class="lineno">3</span>    <span class="k">if</span><span class="p">(</span><span class="nx">frame</span><span class="p">.</span><span class="nx">valid</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">frame</span><span class="p">.</span><span class="nx">gestures</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="mi">0</span><span class="p">{</span>
<span class="lineno">4</span>      <span class="nx">my</span><span class="p">.</span><span class="nx">sphero</span><span class="p">.</span><span class="nx">roll</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="lineno">5</span>    <span class="p">}</span>
<span class="lineno">6</span>   <span class="p">}</span>
<span class="lineno">7</span> <span class="p">}</span></code></pre></div>

</code></pre>
<p>The code above makes the Sphero go forward if the Leap Motion detects any kind of gesture.</p>

<p>For the full code, have a look at <a href="https://github.com/charliegerard/cylon-projects/tree/master/cylon-leapmotion-sphero" target="_blank">my github repo</a>.</p>

<p>I’ll probably write another tutorial soon once I have a chance to rewrite another project but in the meantime let me know if you have any question!</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=http://charliegerard.github.io/blog/Controlling-Sphero-Leap-Motion/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://charliegerard.github.io/blog/Controlling-Sphero-Leap-Motion/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://charliegerard.github.io/blog/Controlling-Sphero-Leap-Motion/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Controlling the Sphero using the Leap Motion</strong> was published on <time datetime="2015-08-20T00:00:00+10:00">August 20, 2015</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://charliegerard.github.io/blog/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="http://charliegerard.github.io/blog/Getting-started-with-Particle-Photon/" title="Getting started with the Particle Photon">Getting started with the Particle Photon</a></li>
    
      <li><a href="http://charliegerard.github.io/blog/Installing-OpenCV/" title="How to install OpenCV 3 on Mac">How to install OpenCV 3 on Mac</a></li>
    
      <li><a href="http://charliegerard.github.io/blog/Turning-MakeyMakey-Capacitive-Sensor/" title="Turning the Makey Makey Into a Capacitive Sensor">Turning the Makey Makey Into a Capacitive Sensor</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2015 Charlie Gerard. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://charliegerard.github.io/blog/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://charliegerard.github.io/blog/assets/js/scripts.min.js"></script>


  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'charliegerardblog'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67921849-1', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>
